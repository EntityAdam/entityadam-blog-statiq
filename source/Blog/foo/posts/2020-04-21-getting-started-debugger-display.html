<!DOCTYPE html>
<html lang="en">

<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <title>My Blog - Visual Studio Tricks: Increase signal to noise in your debugger</title>

  <link rel="canonical" href='/posts/2020-04-21-getting-started-debugger-display'>

      <link type="application/rss+xml" rel="alternate" href="/feed.rss" />
      <link type="application/atom+xml" rel="alternate" href="/feed.atom" />

  <meta name="application-name" content='My Blog' />
  <meta name="msapplication-tooltip" content='My Blog' />
  <meta name="msapplication-starturl" content='/' />

  <meta property="og:title" content='My Blog - Visual Studio Tricks: Increase signal to noise in your debugger' />
    <meta property="og:image" content='/posts/img/adam-avatar-final-trans-400.png' />
  <meta property="og:type" content="website" />
  <meta property="og:url" content='/posts/2020-04-21-getting-started-debugger-display' />

  <link rel="icon" href='/favicon.ico'>

  <!-- Custom fonts for this template -->
  <link href='/vendor/fontawesome-free/css/all.min.css' rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic" rel="stylesheet" data-no-mirror>
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" rel="stylesheet" data-no-mirror>

  <!-- Styles for this template (also includes Bootstrap) -->
  <link href='/scss/clean-blog.css' rel="stylesheet">

  <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-core.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/plugins/autoloader/prism-autoloader.min.js" data-no-mirror></script>
  <script src="https://cdn.jsdelivr.net/npm/quicklink@2.3.0/dist/quicklink.umd.js"></script>
  <link href="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/themes/prism.css" rel="stylesheet">

  


  

</head>

<body>

  <!-- Navigation -->
  <nav class="navbar navbar-expand-lg navbar-light fixed-top" id="mainNav">
  <div class="container">
    <a class="navbar-brand" href='/'>My Blog</a>
    <button class="navbar-toggler navbar-toggler-right" type="button" data-bs-toggle="collapse" data-bs-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
      Menu
      <i class="fas fa-bars"></i>
    </button>
    <div class="collapse navbar-collapse" id="navbarResponsive">
      <ul class="navbar-nav ms-auto">
          <li class="nav-item">
    <a class="nav-link" href="/posts">Posts</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/tags">Tags</a>
  </li>

      </ul>
    </div>
  </div>
</nav>


  <!-- Page Header -->
  <header class="masthead" style="background-image: url(&quot;/posts/img/adam-avatar-final-trans-400.png&quot;)">
  <div class="container position-relative">
    <div class="row">
      <div class="col-md-12">
        <div class='post-heading'>
          <h1>
            Visual Studio Tricks: Increase signal to noise in your debugger
          </h1>
            <div class="meta">Published on Tuesday, April 21, 2020</div>
              <div class="mt-3">
                  <a href="/tags/c" class="badge text-bg-light"> C#</a>
                  <a href="/tags/net" class="badge text-bg-light"> .NET</a>
                  <a href="/tags/visual-studio" class="badge text-bg-light"> Visual Studio</a>
              </div>
        </div>
      </div>
    </div>
  </div>
</header>


  <!-- Main Content -->
  <div class="container">
    <div class="row">
      <div id="content" class="col-md-12">
        <p>Inspecting your objects in Visual Studio's debugger can sometimes be tedious having to expand objects, arrays and lists trying to find that 'problem child' of yours. Fortunately for us, there are some handy tricks to reducing the noise, and focusing in on the members of your object that are important.</p>
<h1 id="the-demo-code">The demo code</h1>
<p>For demonstration purposes, we have a slimmed down <code>Person</code> type with <code>Age</code>, <code>Name</code>, <code>Nickname</code> and and a list of addresses in the form of <code>List&lt;Address&gt;</code>. The <code>Address</code> object has strings for <code>State</code>, <code>City</code> and <code>PostalCode</code>, as well as an <code>enum</code> so we can tell if the address is a physical, mailing or work address.</p>
<pre><code class="language-cs">internal class Person
{
    public int Age { get; set; }
    public string Name { get; set; }
    public string Nickname { get; set; }
    public List&lt;Address&gt; Addresses { get; set; }
}

internal class Address
{
    public AddressType AddressType { get; set; }
    public string State { get; set; }
    public string City { get; set; }
    public string PostalCode { get; set; }
}

enum AddressType
{
    Physical,
    Mailing,
    Work
}
</code></pre>
<h1 id="drilling-down-into-complex-objects-or-lists-of-object-can-be-painful">Drilling down into complex objects or lists of object can be painful.</h1>
<p>When we have a list with a bunch of people, the list contains a bunch of <code>{DebuggerDisplayDemo.Person}</code> which isn't really informative. If you need to discern which <code>Person</code> is causing a particular issue or are looking for a specific person you might be clicking a lot of little expand arrows to get to what you're looking for.  This is what it looks like when we inspect the variable</p>
<p><img src="/img/posts/20200421-001-debugger-list-of-people.png" alt="alt text" title="Debugger List of People" /></p>
<h1 id="bring-the-important-stuff-to-the-forefront">Bring the important stuff to the forefront</h1>
<p>An easy way to increase our signal to noise ratio is to leverage the <code>DebuggerDisplay</code> attribute.</p>
<h2 id="the-person-object">The Person Object</h2>
<pre><code class="language-cs">[DebuggerDisplay(&quot;Name = {Name}, Age = {Age}&quot;)]
internal class Person
{
    public int Age { get; set; }
    public string Name { get; set; }
    public string Nickname { get; set; }
    public List&lt;Address&gt; Addresses { get; set; }
}
</code></pre>
<p>By adding the <code>DebuggerDisplay</code> attribute, we can now pass in an interpolated string which can access properties of the object. Now instead of simply displaying the type name of <code>{DebuggerDisplayDemo.Person}</code> we now can see the properties of each person without having to drill down another level.</p>
<p><img src="/img/posts/20200421-002-debugger-list-of-people.png" alt="alt text" title="Debugger List of People" /></p>
<h2 id="the-address-object">The Address Object</h2>
<p>We can do the same thing to the <code>Address</code> type to bubble the important information up. The nice thing is you can format an address appropriate for your culture. Shown here is the U.S. format of <code>State, City Zip</code>.  (Yes, we call it a zip code instead of a postal code, but I generally always code it as PostalCode)</p>
<pre><code class="language-cs">[DebuggerDisplay(&quot;{AddressType}: {City}, {State} {PostalCode}&quot;)]
internal class Address
{
    public AddressType AddressType { get; set; }
    public string State { get; set; }
    public string City { get; set; }
    public string PostalCode { get; set; }
}
</code></pre>
<h1 id="bring-the-contents-of-an-array-or-list-forward">Bring the contents of an array or list forward</h1>
<p>So far we've made some good improvements and now when inspecting our objects we get more information at first glance.  We can still take this a step further with the <code>Addresses</code> property which is a list of complex <code>Address</code> objects. If we drill down into a <code>Person</code> object, the debugger by default only shows us the <code>Count</code> with the number of items in the list.</p>
<p><img src="/img/posts/20200421-001-debugger-list-of-addresses.png" alt="alt text" title="Debugger List of Addresses" /></p>
<h2 id="debuggerbrowsablestate.roothidden">DebuggerBrowsableState.RootHidden</h2>
<p>We can improve this by using the <code>DebuggerBrowsable</code> attribute hiding the root object, in this case the <code>List</code> itself, which will bring the lists content to the forefront. Also, not only is the contents of the list shown, it's also showing us the format we specified in the previous step!</p>
<pre><code class="language-cs">[DebuggerDisplay(&quot;Name = {Name}, Age = {Age}&quot;)]
internal class Person
{
    public int Age { get; set; }
    public string Name { get; set; }
    public string Nickname { get; set; }

    [DebuggerBrowsable(DebuggerBrowsableState.RootHidden)]
    public List&lt;Address&gt; Addresses { get; set; }
}
</code></pre>
<h2 id="debuggerbrowsablestate.never">DebuggerBrowsableState.Never</h2>
<p>The other thing the <code>DebuggerBrowsable</code> attribute can do is to set the BrowsableState to <code>DebuggerBrowsableState.Never</code> which will hide it from the debugger to further decrease noise. As an example, the <code>Nickname</code> property is completely useless in our debugging experience and we can hide it.</p>
<pre><code class="language-cs">[DebuggerDisplay(&quot;Name = {Name}, Age = {Age}&quot;)]
internal class Person
{
    public int Age { get; set; }
    public string Name { get; set; }

    [DebuggerBrowsable(DebuggerBrowsableState.Never)]
    public string Nickname { get; set; }

    [DebuggerBrowsable(DebuggerBrowsableState.RootHidden)]
    public List&lt;Address&gt; Addresses { get; set; }
}
</code></pre>
<p>Which cleans up our debugger display a little bit to this</p>
<p><img src="/img/posts/20200421-001-person-without-nickname.png" alt="alt text" title="Debugger Person without nickname" /></p>
<p>Hiding this one property isn't a huge deal in this case, but I'm sure you can imagine how this could clean up the noise for an object with tons of properties.</p>
<h1 id="fin">Fin.</h1>
<p>I've covered a few things in this article, the <code>DebuggerDisplay</code> attribute as well as the <code>DebuggerBrowsable</code> attribute.  I wanted to highlight the most useful bits of tailoring the debugger display and object inspector to get the most bang for your buck.  I didn't go into a great deal of depth, but if you want to dive a little deeper here is the reference <a href="http://localhost:4000/c%23/2020/04/21/getting-started-debugger-display/">Microsoft Docs</a> link</p>


        

      </div>
    </div>
  </div>

  <hr>

  <!-- Footer -->
  <footer>
  <div class="container">
    <div class="row">
      <div class="col-md-12 text-center">
        <p class="copyright">Copyright &#xA9; 2023</p>

        <ul class="list-inline text-center small">
            <li class="list-inline-item">
              <a href="/feed.rss"><i class="fa fa-rss"></i> RSS Feed</a>
            </li>
            <li class="list-inline-item">
              <a href="/feed.atom"><i class="fa fa-rss"></i> Atom Feed</a>
            </li>
        </ul>
        <br />
        <div class="font-weight-bold small"><a href="https://statiq.dev">Generated by Statiq</a></div>
      </div>
    </div>
  </div>
</footer>


  <!-- Scripts -->
  <script src='/vendor/bootstrap/js/bootstrap.bundle.min.js'></script>
  <script src='/vendor/startbootstrap-clean-blog/js/scripts.js'></script>
  <script src='/js/clean-blog.js'></script>
  

  

</body>

</html>
